import{SvelteComponent,add_flush_callback,add_render_callback,append,assign,attr,bind,binding_callbacks,check_outros,children,claim_component,claim_element,claim_space,create_component,destroy_component,detach,element,empty,get_spread_object,get_spread_update,globals,group_outros,init,insert,listen,mount_component,noop,run_all,safe_not_equal,space,subscribe,transition_in,transition_out}from"../../web_modules/svelte/internal/index.mjs";const{window:window_1}=globals;import{onMount}from"../../web_modules/svelte/index.mjs";import Footer from"./footer.js";import Head from"./head.js";import Nav from"./nav.js";import Login from"./login.js";function create_if_block(e){let t,i,s,o;function a(t){e[9](t)}var n=e[7].menu;function r(e){let t={user:e[4]};return e[0]!==void 0&&(t.content=e[0]),{props:t}}return n&&(t=new n(r(e)),binding_callbacks.push(()=>bind(t,"content",a))),{c(){t&&create_component(t.$$.fragment),s=empty()},l(e){t&&claim_component(t.$$.fragment,e),s=empty()},m(e,n){t&&mount_component(t,e,n),insert(e,s,n),o=!0},p(e,o){const c={};if(o&16&&(c.user=e[4]),!i&&o&1&&(i=!0,c.content=e[0],add_flush_callback(()=>i=!1)),n!==(n=e[7].menu)){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,()=>{destroy_component(e,1)}),check_outros()}n?(t=new n(r(e)),binding_callbacks.push(()=>bind(t,"content",a)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,s.parentNode,s)):t=null}else n&&t.$set(c)},i(e){if(o)return;t&&transition_in(t.$$.fragment,e),o=!0},o(e){t&&transition_out(t.$$.fragment,e),o=!1},d(e){e&&detach(s),t&&destroy_component(t,e)}}}function create_fragment(e){let v=!1,S=()=>{v=!1},p,i,r,_,o,j,a,O,w,s,c,f,g,E,h,u,y,t,b,d,m,x,A;add_render_callback(e[8]),r=new Head({props:{title:e[0].fields?.meta?.title,env:e[3]}});let n=e[4]&&e[7].isAuthenticated&&create_if_block(e);function F(t){e[10](t)}let k={user:e[4]};e[5]!==void 0&&(k.hash=e[5]),a=new Login({props:k}),binding_callbacks.push(()=>bind(a,"hash",F)),u=new Nav({});const C=[e[0].fields,{allLayouts:e[2]},{content:e[0]}];var l=e[1];function M(){let t={};for(let e=0;e<C.length;e+=1)t=assign(t,C[e]);return{props:t}}return l&&(t=new l(M(e))),d=new Footer({}),{c(){i=element("html"),create_component(r.$$.fragment),_=space(),o=element("body"),n&&n.c(),j=space(),create_component(a.$$.fragment),w=space(),s=element("main"),c=element("div"),f=element("i"),E=space(),h=element("header"),create_component(u.$$.fragment),y=space(),t&&create_component(t.$$.fragment),b=space(),create_component(d.$$.fragment),this.h()},l(e){i=claim_element(e,"HTML",{lang:!0});var l,m,g,v,p=children(i);claim_component(r.$$.fragment,p),_=claim_space(p),o=claim_element(p,"BODY",{}),m=children(o),n&&n.l(m),j=claim_space(m),claim_component(a.$$.fragment,m),w=claim_space(m),s=claim_element(m,"MAIN",{}),l=children(s),c=claim_element(l,"DIV",{class:!0}),g=children(c),f=claim_element(g,"I",{class:!0}),children(f).forEach(detach),g.forEach(detach),E=claim_space(l),h=claim_element(l,"HEADER",{class:!0}),v=children(h),claim_component(u.$$.fragment,v),v.forEach(detach),y=claim_space(l),t&&claim_component(t.$$.fragment,l),b=claim_space(l),claim_component(d.$$.fragment,l),l.forEach(detach),m.forEach(detach),p.forEach(detach),this.h()},h(){attr(f,"class","fas fa-angle-up"),attr(c,"class",g="scroll-up-btn "+(e[6]>500?" show":"")),attr(h,"class","navigation"),attr(i,"lang","en")},m(l,g){insert(l,i,g),mount_component(r,i,null),append(i,_),append(i,o),n&&n.m(o,null),append(o,j),mount_component(a,o,null),append(o,w),append(o,s),append(s,c),append(c,f),append(s,E),append(s,h),mount_component(u,h,null),append(s,y),t&&mount_component(t,s,null),append(s,b),mount_component(d,s,null),m=!0,x||(A=[listen(window_1,"scroll",()=>{v=!0,clearTimeout(p),p=setTimeout(S,100),e[8]()}),listen(c,"click",e[11])],x=!0)},p(e,[i]){i&64&&!v&&(v=!0,clearTimeout(p),scrollTo(window_1.pageXOffset,e[6]),p=setTimeout(S,100));const d={};i&1&&(d.title=e[0].fields?.meta?.title),i&8&&(d.env=e[3]),r.$set(d),e[4]&&e[7].isAuthenticated?n?(n.p(e,i),i&144&&transition_in(n,1)):(n=create_if_block(e),n.c(),transition_in(n,1),n.m(o,j)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros());const u={};i&16&&(u.user=e[4]),!O&&i&32&&(O=!0,u.hash=e[5],add_flush_callback(()=>O=!1)),a.$set(u),(!m||i&64&&g!==(g="scroll-up-btn "+(e[6]>500?" show":"")))&&attr(c,"class",g);const h=i&5?get_spread_update(C,[i&1&&get_spread_object(e[0].fields),i&4&&{allLayouts:e[2]},i&1&&{content:e[0]}]):{};if(l!==(l=e[1])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,()=>{destroy_component(e,1)}),check_outros()}l?(t=new l(M(e)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,s,b)):t=null}else l&&t.$set(h)},i(e){if(m)return;transition_in(r.$$.fragment,e),transition_in(n),transition_in(a.$$.fragment,e),transition_in(u.$$.fragment,e),t&&transition_in(t.$$.fragment,e),transition_in(d.$$.fragment,e),m=!0},o(e){transition_out(r.$$.fragment,e),transition_out(n),transition_out(a.$$.fragment,e),transition_out(u.$$.fragment,e),t&&transition_out(t.$$.fragment,e),transition_out(d.$$.fragment,e),m=!1},d(e){e&&detach(i),destroy_component(r),n&&n.d(),destroy_component(a),destroy_component(u),t&&destroy_component(t),destroy_component(d),x=!1,run_all(A)}}}function instance(e,t,n){let r,a=noop,u=()=>(a(),a=subscribe(s,e=>n(7,r=e)),s);e.$$.on_destroy.push(()=>a());let{content:i}=t,{layout:d}=t,{allLayouts:c}=t,{env:l}=t,{user:s}=t;u();let o;onMount(async()=>{n(5,o=window.location.hash)});let h;function m(){n(6,h=window_1.pageYOffset)}function f(e){i=e,n(0,i)}function p(e){o=e,n(5,o)}const g=()=>window.scrollTo(0,0);return e.$$set=e=>{"content"in e&&n(0,i=e.content),"layout"in e&&n(1,d=e.layout),"allLayouts"in e&&n(2,c=e.allLayouts),"env"in e&&n(3,l=e.env),"user"in e&&u(n(4,s=e.user))},[i,d,c,l,s,o,h,r,m,f,p,g]}class Component extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{content:0,layout:1,allLayouts:2,env:3,user:4})}}export default Component